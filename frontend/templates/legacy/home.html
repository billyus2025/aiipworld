<!DOCTYPE html>
<html lang="{{lang}}" class="scroll-smooth">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{title}}</title>
    <meta name="description" content="{{description}}">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#0f172a">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js');
            });
        }
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    colors: {
                        brand: { 50: '#f0fdfa', 100: '#ccfbf1', 200: '#99f6e4', 300: '#5eead4', 400: '#2dd4bf', 500: '#14b8a6', 600: '#0d9488', 700: '#0f766e', 800: '#115e59', 900: '#134e4a', 950: '#042f2e' },
                        dark: { 900: '#0f172a', 800: '#1e293b', 700: '#334155' }
                    },
                    animation: { 'blob': 'blob 7s infinite', 'fade-in': 'fadeIn 0.5s ease-out forwards' },
                    keyframes: {
                        blob: { '0%': { transform: 'translate(0px, 0px) scale(1)' }, '33%': { transform: 'translate(30px, -50px) scale(1.1)' }, '66%': { transform: 'translate(-20px, 20px) scale(0.9)' }, '100%': { transform: 'translate(0px, 0px) scale(1)' } },
                        fadeIn: { '0%': { opacity: '0', transform: 'translateY(10px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #0f172a;
            color: #f8fafc;
        }

        .glass {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .glass-hover:hover {
            background: rgba(30, 41, 59, 0.8);
            border-color: rgba(255, 255, 255, 0.15);
        }

        .gradient-text {
            background: linear-gradient(135deg, #2dd4bf 0%, #a78bfa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .glow {
            box-shadow: 0 0 20px rgba(45, 212, 191, 0.15);
        }

        .glow:focus-within {
            box-shadow: 0 0 30px rgba(45, 212, 191, 0.25);
            border-color: rgba(45, 212, 191, 0.5);
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #0f172a;
        }

        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            margin: 15% auto;
            padding: 0;
            border: 1px solid #334155;
            width: 90%;
            max-width: 400px;
            border-radius: 16px;
            background-color: #1e293b;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }
    </style>
</head>

<body class="antialiased min-h-screen relative overflow-x-hidden selection:bg-brand-500 selection:text-white">

    <!-- Navbar -->
    <nav class="fixed w-full z-50 top-0 transition-all duration-300 glass border-b-0 border-b-white/5">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center gap-2">
                    <div
                        class="w-8 h-8 rounded-lg bg-gradient-to-br from-brand-400 to-purple-500 flex items-center justify-center text-white font-bold text-lg shadow-lg">
                        Y</div>
                    <span class="text-xl font-bold tracking-tight text-white">YourCover<span
                            class="text-brand-400">AI</span></span>
                </div>
                <div class="flex items-center gap-4">
                    <a href="#tools"
                        class="text-sm font-medium text-slate-300 hover:text-white transition-colors">Tools</a>
                    <a href="#pricing"
                        class="hidden sm:block text-sm font-medium text-slate-300 hover:text-white transition-colors"
                        data-i18n="pricing_title">Pricing</a>
                    <div id="authSection">
                        <button id="loginBtn"
                            class="text-sm font-medium text-slate-300 hover:text-white transition-colors mr-4"
                            data-i18n="login_btn">Login</button>
                    </div>
                    <div id="userSection" class="hidden flex items-center gap-3">
                        <div class="text-right hidden md:block">
                            <div id="userEmail" class="text-xs text-slate-300 font-medium"></div>
                            <div id="userPlan" class="text-[10px] text-brand-400 uppercase font-bold tracking-wider">
                                Free Plan</div>
                        </div>
                        <button id="logoutBtn" class="text-xs text-slate-500 hover:text-white"
                            data-i18n="logout_btn">Logout</button>
                    </div>

                    <!-- Language Dropdown -->
                    <div class="relative">
                        <button id="langBtn"
                            class="flex items-center gap-2 px-3 py-1.5 rounded-full glass hover:bg-white/10 transition-all text-sm font-medium text-slate-200 cursor-pointer">
                            <span id="langBtnText">EN</span>
                            <svg class="w-3 h-3 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div id="langDropdown"
                            class="absolute right-0 mt-2 w-40 glass rounded-xl shadow-2xl opacity-0 invisible transition-all duration-200 transform origin-top-right z-50 overflow-hidden">
                            <div class="py-1">
                                <button
                                    class="lang-option w-full text-left px-4 py-2 text-sm text-slate-300 hover:bg-white/10 hover:text-white transition-colors"
                                    data-lang="en">English</button>
                                <button
                                    class="lang-option w-full text-left px-4 py-2 text-sm text-slate-300 hover:bg-white/10 hover:text-white transition-colors"
                                    data-lang="zh">中文</button>
                                <button
                                    class="lang-option w-full text-left px-4 py-2 text-sm text-slate-300 hover:bg-white/10 hover:text-white transition-colors"
                                    data-lang="es">Español</button>
                                <button
                                    class="lang-option w-full text-left px-4 py-2 text-sm text-slate-300 hover:bg-white/10 hover:text-white transition-colors"
                                    data-lang="fr">Français</button>
                                <button
                                    class="lang-option w-full text-left px-4 py-2 text-sm text-slate-300 hover:bg-white/10 hover:text-white transition-colors"
                                    data-lang="de">Deutsch</button>
                                <button
                                    class="lang-option w-full text-left px-4 py-2 text-sm text-slate-300 hover:bg-white/10 hover:text-white transition-colors"
                                    data-lang="ja">日本語</button>
                            </div>
                        </div>
                    </div>

                    <a href="#pricing"
                        class="px-5 py-2 rounded-full bg-white text-slate-900 text-sm font-semibold hover:bg-brand-50 transition-colors shadow-lg shadow-brand-500/20">Get
                        Pro</a>
                </div>
            </div>
        </div>
    </nav>

    <main class="relative z-10 pt-28 pb-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
        <!-- Hero -->
        <div class="text-center mb-16 animate-fade-in">
            <div
                class="inline-flex items-center gap-2 px-3 py-1 rounded-full glass border border-brand-500/30 text-brand-300 text-xs font-medium mb-6">
                <span class="relative flex h-2 w-2"><span
                        class="animate-ping absolute inline-flex h-full w-full rounded-full bg-brand-400 opacity-75"></span><span
                        class="relative inline-flex rounded-full h-2 w-2 bg-brand-500"></span></span>
                <span data-i18n="hero_badge">AI-Powered SaaS Factory</span>
            </div>
            <h1 class="text-4xl md:text-6xl font-bold tracking-tight mb-6">
                <span data-i18n="hero_title_1">10+ Professional AI Tools</span> <br class="hidden md:block" />
                <span class="gradient-text" data-i18n="hero_title_2">In One Subscription</span>
            </h1>
            <p class="text-lg text-slate-400 max-w-2xl mx-auto mb-8" data-i18n="hero_subtitle">
                Access a complete suite of AI tools for career, productivity, and lifestyle. Unlimited generations for
                one low price.
            </p>
        </div>

        <!-- Tools Grid -->
        <div id="tools" class="mb-32">
            <h2 class="text-3xl font-bold text-white mb-8 text-center">Our Tools</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                {{toolsGrid}}
            </div>
        </div>

        <!-- Pricing (Simplified) -->
        <div id="pricing" class="text-center mb-16">
            <h2 class="text-3xl font-bold text-white mb-4" data-i18n="pricing_title">Simple Pricing</h2>
            <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto mt-8">
                <div class="glass rounded-2xl p-8 border border-white/5">
                    <h3 class="text-xl font-semibold text-white mb-2">Pro Monthly</h3>
                    <div class="text-4xl font-bold text-white mb-6">$9.9<span class="text-sm text-slate-400">/mo</span>
                    </div>
                    <button id="subscribeMonthly"
                        class="w-full py-3 rounded-lg border border-slate-600 text-white hover:bg-white hover:text-slate-900 transition-all">Subscribe
                        Monthly</button>
                </div>
                <div class="glass rounded-2xl p-8 border border-brand-500/30 relative">
                    <div
                        class="absolute -top-4 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-brand-500 to-purple-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg">
                        BEST VALUE</div>
                    <h3 class="text-xl font-semibold text-white mb-2">Pro Yearly</h3>
                    <div class="text-4xl font-bold text-white mb-6">$79<span class="text-sm text-slate-400">/yr</span>
                    </div>
                    <button id="subscribeYearly"
                        class="w-full py-3 rounded-lg bg-white text-slate-900 font-bold hover:bg-brand-50 transition-all">Subscribe
                        Yearly</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Modals (Login, Account, Error) - Simplified for template -->
    <div id="loginModal" class="modal">
        <div class="modal-content p-6">
            <h3 class="text-xl font-bold text-white mb-4">Login</h3>
            <input type="email" id="emailInput" placeholder="Email"
                class="w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-white mb-4">
            <button id="sendLinkBtn" class="w-full bg-brand-600 text-white font-bold py-3 rounded-lg">Send Magic
                Link</button>
            <button id="closeModal" class="mt-4 text-slate-400 w-full">Close</button>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        const API_BASE_URL = 'https://yourcoverai.com'; // Point to Worker
        const currentLang = "{{lang}}";

        // Auth & UI Logic

        // Language Switcher
        const langBtn = document.getElementById('langBtn');
        const langDropdown = document.getElementById('langDropdown');
        langBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            const isHidden = langDropdown.classList.contains('invisible');
            if (isHidden) {
                langDropdown.classList.remove('opacity-0', 'invisible');
                langDropdown.classList.add('opacity-100', 'visible');
            } else {
                langDropdown.classList.add('opacity-0', 'invisible');
                langDropdown.classList.remove('opacity-100', 'visible');
            }
        });

        document.querySelectorAll('.lang-option').forEach(opt => {
            opt.addEventListener('click', (e) => {
                const lang = opt.dataset.lang;
                window.location.href = \`/\${lang}/\`;
        });
    });

    // Subscribe
    async function createCheckoutSession(plan) {
        try {
            const res = await fetch(\`\${API_BASE_URL}/api/create-checkout-session\`, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({plan})
            });
            const data = await res.json();
            if(data.url) window.location.href = data.url;
            else alert("Error: " + (data.error || "Unknown"));
        } catch(e) { alert("Error: " + e.message); }
    }
    document.getElementById('subscribeMonthly').addEventListener('click', () => createCheckoutSession('monthly'));
    document.getElementById('subscribeYearly').addEventListener('click', () => createCheckoutSession('yearly'));
    
    // Login
    document.getElementById('loginBtn').addEventListener('click', () => document.getElementById('loginModal').style.display = 'block');
    document.getElementById('closeModal').addEventListener('click', () => document.getElementById('loginModal').style.display = 'none');
    document.getElementById('sendLinkBtn').addEventListener('click', async () => {
        const email = document.getElementById('emailInput').value;
        const res = await fetch(\`\${API_BASE_URL}/api/auth/send-link\`, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({email})
        });
        const data = await res.json();
        if(data.status === 'ok') alert("Magic link sent! Check console.");
        if(data.link) console.log(data.link);
    });
    </script>
</body>

</html>